Contents
=======
1) Change the F6ACM log-level
2) Change the DDS and ORB log-level / Use ORBDottedDecimalAddresses 
3) Example


1)
Change the F6ACM log-level
===========================
1.1)
cd to F6ACM folder
1.2)
source bootstrap.sh
1.3)
cd $ACM_SRC
1.4)
./autogen.sh --prefix=$ACM_ROOT --enable-logging-info CXXFLAGS=-O2
1.5)
make
1.6)
make install
1.7)
F6ACM/ACM-I/bootstrap.sh will be overwritten. If you had added any entries here, please add them back.


2)
Change the DDS and ORB log-level / Use ORBDottedDecimalAddresses 
===========================================================
2.0)
The discussion below assumes a set up of 3 vms with the following hostname, ip address and tasks launched.
f6-vm1 - 192.168.56.21 (dcpsinforepo and module M1 run here)
f6-vm2 - 192.168.56.22 (module M2 runs here)
f6-vm3 - 192.168.56.23 (module M3 runs here)

2.1)
DCPSInfoRepo
--------------
Use the following command to start DCPSInfoRepo (Assumption - DCPSInfo repo is running on f6-vm1 (ip address 192.168.56.21))
- Changes include
 - use of  ip addresses in place of hostname
 - -ORBDebugLevel set to 5 
 -DCPSDebugLevel  set to 11
 -ORBLogFile set to  DCPS_ORBDebug.log

DCPSInfoRepo -ORBDottedDecimalAddresses 1 -ORBEndpoint iiop://192.168.56.21:12345 -ORBDebugLevel 5 -DCPSDebugLevel 11 -ORBLogFile DCPS_ORBDebug.log

2.2)
Generated code
--------------
2.2.1)

a)
Update the dds_udp_conf.ini file in each module
Set the parameter "DCPSDebugLevel" from "0" to "11". The entry in the file should be
 
DCPSDebugLevel=11

b)
Update hostnames to ip addresses in the entries "DCPSInfoRepo" and "local_address"

e.g. 
With the configuration mentioned in 2.0 the updated entries for M2/dds_udp_conf.ini would look like

DCPSInfoRepo=corbaloc::192.168.56.21:12345/DCPSInfoRepo

local_address=192.168.56.22


2.2.2)
Each Partition has a corresponding header file generated in the folder
"ModuleName"/"PartitionName"/"PartitionName".h

Search for the variables  "dds_argc", "dds_argv".

-Set dds_argc to 7 (it should have been 3).
int dds_argc = 7;

-Update dds_argv to add 4 more parameters towards the end.

-Add the following parameters to the dds_argv array. (Replace <PARTITON_NAME> with the name of the partition.
"-ORBDottedDecimalAddresses 1"
"-DCPSDebugLevel 11"
"-ORBDebugLevel 5"
"-ORBLogFile <PARTITION_NAME>_ORBDebug.log"

The final dds_argv array would look like this
Ofcourse <PARTITION_NAME> would be replaced by the actual partition name

char* dds_argv[7] =
{
    "<PARTITION_NAME>",
    "-DCPSConfigFile dds_udp_conf.ini",
    "-DCPSBit 0",
	"-ORBDottedDecimalAddresses 1",
    "-DCPSDebugLevel 11"
    "-ORBDebugLevel 5",
	"-ORBLogFile <PARTITION_NAME>_ORBDebug.log"
};

e.g. When <PARTITION_NAME>=M1_P1, dds_argv will look like

char* dds_argv[7] =
{
    "M1_P1",
    "-DCPSConfigFile dds_udp_conf.ini",
    "-DCPSBit 0"
	"-ORBDottedDecimalAddresses 1",
    "-DCPSDebugLevel 11",
    "-ORBDebugLevel 5",
	"-ORBLogFile M1_P1_ORBDebug.log"
};

2.2.3)
Build Samples

source ...F6ACM/ACM-I/bootstrap.sh

cd  to the appropriate folder
 - samples folder/gen_deployments/ deployment folder

source prepareExperiments.sh

./autogen.sh

make

2.2.4)
Start experiment as usual

2.2.5)
Collect the following logs
- DCPSInfo repo should have generated a log in the folder where you started it
  "DCPS_ORBDebug.log"

- Each Partition generates two log files 
  - F6ACM log file  :  "<PARTITON_NAME>-<PID>.log"
  - DDS/ ORB log file : "<PARTITION_NAME>_ORBDebug.log"

- Each Module log : "MM-<PID>.log"

NOTE: PLEASE NOTE THAT THE FOLLOWING LOGS WILL BE OVERWRITTEN AFTER EACH EXPERIMENT. SO CARE SHOULD BE TAKEN TO BACK-UP THESE LOGS BEFORE STARTING NEW RUN OF THE  EXPERIMENT.
 - 1) DCPSINFOREPO LOG: "DCPS_ORBDebug.log"
   2) DDS/ORB LOG FOR EACH PARTITION: "<PARTITION_NAME>_ORBDebug.log"
   IF REQUIRED WE CAN DO SOMETHING IN FUTURE FOR GENERATING (2) ABOVE WITH UNIQUE TIMESTAMPED LOGNAME. BUT FOR NOW THIS IS THE SITUATION.
   

3)
Example
===========
F6ACM/samples/cfs_ex/code-w-debug
The files that have been updated here are include

gen_deployments/5_MultiModuleDeployment/M1/dds_udp_conf.ini 
gen_deployments/5_MultiModuleDeployment/M2/dds_udp_conf.ini
gen_deployments/5_MultiModuleDeployment/M3/dds_udp_conf.ini
gen_deployments/5_MultiModuleDeployment/M1/M1_P1/M1_P1.h
gen_deployments/5_MultiModuleDeployment/M2/M2_P1/M2_P1.h
gen_deployments/5_MultiModuleDeployment/M3/M3_P1/M3_P1.h
   


  

  
  

